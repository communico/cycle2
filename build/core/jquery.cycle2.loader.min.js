/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20250917 */
/*! loader plugin for Cycle2;  version: 20131121 */
!function(e){"use strict";e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(n,i){var t;i.loader&&(t=i.API.add,i.API.add=function(n,a){var o=[];if("string"==e.type(n))n=e.trim(n);else if("array"===e.type(n))for(var r=0;r<n.length;r++)n[r]=e(n[r])[0];var d=(n=e(n)).length;if(!d)return;n.css("visibility","hidden").appendTo("body").each(function(n){var r=0,c=e(this),s=c.is("img")?c:c.find("img");if(c.data("index",n),!(s=s.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])')).length)return--d,void o.push(c);function f(){0===--r&&(--d,function(n){var r;"wait"==i.loader?(o.push(n),0===d&&(o.sort(l),t.apply(i.API,[o,a]),i.container.removeClass("cycle-loading"))):(r=e(i.slides[i.currSlide]),t.apply(i.API,[n,a]),r.show(),i.container.removeClass("cycle-loading"))}(c))}r=s.length,s.each(function(){this.complete?f():e(this).load(function(){f()}).on("error",function(){0===--r&&(i.API.log("slide skipped; img not loaded:",this.src),0===--d&&"wait"==i.loader&&t.apply(i.API,[o,a]))})})}),d&&i.container.addClass("cycle-loading");function l(e,n){return e.data("index")-n.data("index")}})})}(jQuery);